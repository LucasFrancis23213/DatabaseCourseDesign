# 说明文档

## 1. NotificationLogs

这个表的作用没有了解的太清楚，为什么要记录通知？

如果记录通知，那么通知的详细程度是什么（每个成功、失败的操作都要通知？只通知部分信息？）

相关操作如上面的 pdf 所示，需要说明内容如下：

1. 创建大概率使用 trigger 的方式实现，对每个可能产生通知的表都书写 trigger，需要提供 UserID，并且自动生成 NotificationID。
2. 更新通知状态需要在用户操作（点开通知）时提供 UserID，并且在本表中查询、修改。
3. 还可能对本表进行检索操作，检索方式可以提供 UserID 或 NotificationID。

## 2. UserActivityLogs

这个表的内容如 pdf 中所示，操作可分为记录和检索。

注意行为详情与之前表项的重复问题。

## 3. RecommendationLogs

这个表的内容是否要添加一个项目记录推荐的类型？因为用户不感兴趣的可能是一类的东西，并且可以检索某个特定用户对某个特定类型推荐的反馈。

相关操作如 pdf 中所示，需要说明内容如下：

1. 添加过程需要提供所有的信息，用户反馈记为 unknown 或 null。
2. 检索方式多样，但是最主要可能是通过 UserID 检索，可能与之前提供的多个表相关（例如，用户偏好、用户订阅等）

***
以上的内容可能需要大量用到 trigger（？）
***

## 4. DataAnalysisReports

这个表完全不知道有什么用。

如果有用，是否要添加表项 UserID，针对每个用户生成报表？

注意与 UserActivity 表的重复问题。

## 5. TransactionLogs

如何记录交易时间？完成时间？开始时间？

建议 Amount 项不要有负数，不然同一个信息可能记录多次。

这个里面的内容需要谨慎记录。

可能的操作如 pdf 中所示，以下为简要说明：

1. 记录交易需要非常详细的信息，必须提供足量的信息才记录。
2. 可能与 RewardOffers 关联，一个完成的 RewoadOffers 必定有一个 TransactionLogs，需要 trigger?
3. 更改状态需要审核完成之后进行，需要提供 UserID
4. 查询方式多样，提供 UserID, ItemID, TransactionID等等均可

***
以上是文档中需要我负责的内容。

还有一个问题：Log 的内容应该是操作之后进行且和操作原子进行的。

用户管理的部分，是否需要包含之前的操作的内容？

暂时搁置

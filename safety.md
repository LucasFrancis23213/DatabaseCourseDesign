# 用户注册

## 问题

1. 不同用户间用户名相同、密码相同的情况，可能会造成混淆。
2. 用户的联系方式和认证状态等敏感信息的授权访问。
3. 认证状态和认证信息在首次认证过程中存在被不当修改或者绕过的风险。
4. 当前的数据表设计仅记录用户的认证状态，不记录具体实名认证的内容，不便于审核和回溯，也可能被复用。但鉴于我们现在只做实名认证的效果，不记录具体内容也有利于保护信息，是否要考虑这个问题？



## 需要记录的日志

1.**用户活动日志**：记录用户的基本活动

- **时间戳**：记录操作发生的具体时间。
- **用户ID**：标识操作的用户。
- **操作类型**：如登录、登出、更新个人信息等。
- **操作结果**：成功或失败的状态。
- **来源IP地址**：用户操作发起的IP地址，有助于安全分析和定位问题。

2.**认证活动日志**：针对用户的认证状态变更进行记录

- **时间戳**：记录操作发生的时间。
- **用户ID**：关联的用户ID。
- **认证状态变更**：从什么状态到什么状态。
- **认证日期**：认证操作完成的日期。
- **操作人或系统**：记录是系统自动更新还是由某个管理员操作。

- **操作人**：进行变更的管理员或触发的系统事件。

3.**数据修改和访问日志**：记录对于用户信息的任何修改或重要查询操作

- **时间戳**：操作发生的时间。
- **用户ID**：被修改或查询的用户信息。
- **修改详情**：具体修改了哪些字段，修改前后的值（对于敏感信息应进行脱敏）。
- **查询详情**：记录查询的类型和目的，特别是涉及敏感信息的查询。
- **操作人或系统**：指明是哪个用户或系统进行的操作。

4.**异常和错误日志**：记录所有系统错误、异常或失败的操作，特别是认证和访问控制失败

- **时间戳**：发生错误的时间。
- **事件类型**：错误类型或异常描述。
- **影响的用户ID或系统模块**：如果适用，标识相关的用户或系统部分。
- **详细错误信息**：提供足够的信息用于问题的诊断和解决。
- **处理状态**：记录错误是如何被发现和修复的。



## 可能需要调用的表

AuthInfo

Users

VIPMembers